import { of, tap } from "rxjs";
export class WordingCustomLoader {
    constructor(http, config, cache) {
        this.http = http;
        this.config = config;
        this.cache = cache;
    }
    getTranslation(lang) {
        const key = `translations_${lang}`;
        const cached = this.cache.get(key);
        if (cached) {
            return of(cached);
        }
        return this.http
            .get(`${this.config.baseUrl}/${lang}.json`)
            .pipe(tap(translations => this.cache.set(key, translations)));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29yZGluZy1jdXN0b20tbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvd29yZGluZy1saWJyYXJ5L3NyYy9saWIvd29yZGluZy1jdXN0b20tbG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBbUIsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQVVoRCxNQUFNLE9BQU8sbUJBQW1CO0lBRTlCLFlBQ1UsSUFBZ0IsRUFDaEIsTUFBNEIsRUFDNUIsS0FBMkM7UUFGM0MsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUNoQixXQUFNLEdBQU4sTUFBTSxDQUFzQjtRQUM1QixVQUFLLEdBQUwsS0FBSyxDQUFzQztJQUNsRCxDQUFDO0lBRUosY0FBYyxDQUFDLElBQVk7UUFDekIsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLElBQUksRUFBRSxDQUFDO1FBRW5DLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxFQUFFO1lBQ1YsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbkI7UUFFRCxPQUFPLElBQUksQ0FBQyxJQUFJO2FBQ2IsR0FBRyxDQUFrQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksT0FBTyxDQUFDO2FBQzNELElBQUksQ0FDSCxHQUFHLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FDdkQsQ0FBQztJQUNOLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uL2h0dHBcIjtcclxuaW1wb3J0IHsgVHJhbnNsYXRlTG9hZGVyIH0gZnJvbSBcIkBuZ3gtdHJhbnNsYXRlL2NvcmVcIlxyXG5pbXBvcnQgeyBtYXAsIE9ic2VydmFibGUsIG9mLCB0YXAgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBJbmplY3QgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5pbXBvcnQgeyBXb3JkaW5nTGlicmFyeUNvbmZpZyB9IGZyb20gXCIuL3dvcmRpbmctbGlicmFyeS5jb25maWdcIjtcclxuaW1wb3J0IHsgV29yZGluZ0NhY2hlU2VydmljZSB9IGZyb20gXCIuL3dvcmRpbmctY2FjaGUuc2VydmljZVwiO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFRyYW5zbGF0aW9uVHJlZSA9IHtcclxuICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBUcmFuc2xhdGlvblRyZWU7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgV29yZGluZ0N1c3RvbUxvYWRlciBpbXBsZW1lbnRzIFRyYW5zbGF0ZUxvYWRlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxyXG4gICAgcHJpdmF0ZSBjb25maWc6IFdvcmRpbmdMaWJyYXJ5Q29uZmlnLFxyXG4gICAgcHJpdmF0ZSBjYWNoZTogV29yZGluZ0NhY2hlU2VydmljZTxUcmFuc2xhdGlvblRyZWU+XHJcbiAgKSB7fVxyXG5cclxuICBnZXRUcmFuc2xhdGlvbihsYW5nOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFRyYW5zbGF0aW9uVHJlZT4ge1xyXG4gICAgY29uc3Qga2V5ID0gYHRyYW5zbGF0aW9uc18ke2xhbmd9YDtcclxuXHJcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChrZXkpO1xyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICByZXR1cm4gb2YoY2FjaGVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwXHJcbiAgICAgIC5nZXQ8VHJhbnNsYXRpb25UcmVlPihgJHt0aGlzLmNvbmZpZy5iYXNlVXJsfS8ke2xhbmd9Lmpzb25gKVxyXG4gICAgICAucGlwZShcclxuICAgICAgICB0YXAodHJhbnNsYXRpb25zID0+IHRoaXMuY2FjaGUuc2V0KGtleSwgdHJhbnNsYXRpb25zKSlcclxuICAgICAgKTtcclxuICB9XHJcbn1cclxuIl19